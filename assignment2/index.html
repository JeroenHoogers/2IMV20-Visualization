<!DOCTYPE html>
<html>
	<head>
		<title>Vizualization assignment 2</title>
		<link rel="stylesheet" type="text/css" href="css/style.css">
	</head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<body>
		<div class="page">
			<div class="header">
				2IMV20 Visualization
			</div>
			<div class="content">
				<div class="side-left">
					Legend
  					<label><input type="radio" name="dataset" value="Land_Distribution" checked> Land</label>
  					<label><input type="radio" name="dataset" value="GDP_Distribution"> GDP</label>
					<div id="pieChart-container">
						<div id="pieA">
						</div>
						<div id="pieB">
						</div>
					</div>
					<div id="summary"></div>
				</div>
				<div class="main-content">
					<div id="map"></div>
				</div>
				<div class="timeline-container">
					<div id="timeline">
						
					</div>
				</div>
			</div>

		</div>

		<script src="js/d3.v3.min.js"></script>
		<script src="js/topojson.v1.min.js"></script>
		<script src="js/dataloader.js"></script>
		<script src="js/timeline.js"></script>
		<script src="js/worldmap.js"></script>
		<script src="js/pieChart.js"></script>
		<script src="js/summary.js"></script>
		<script src="js/filter.js"></script>
		<script>

		var width = 900, height = 600;

		var selected;
		var hover;

	    // load data
	    loaddata();

	    // Wait until data is loaded

	    var worldmap;
	    var timeline;
	    var pieChartA;
	    var pieChartB;
	    var summary;
	    var filter = new Filter(worldmap, timeline, pieChartA, pieChartB);

	    // TODO: construct after data is finished loading using an event.
		setTimeout(function(){ 
		    worldmap = new Worldmap(900, 600);
		    timeline = new Timeline(1180, 200);
		    pieChartA = new pieChart(275, 250, "pieA", "Land_Distribution", ["Arable_Land_perc", "Forest_Land_perc", "Agriculture_Land_perc", "Services_GDP_perc", "Industry_GDP_perc", "Agriculture_GDP_perc"], 0);
		    pieChartB = new pieChart(275, 250, "pieB", "GDP_Distribution", ["Arable_Land_perc", "Forest_Land_perc", "Agriculture_Land_perc", "Services_GDP_perc", "Industry_GDP_perc", "Agriculture_GDP_perc"], 3);
		    summary = new Summary(275, 100, ["Arable", "Forest", "Agriculture", "Services", "Industry", "AgricultureGDP"]);
		 }, 500);

		// Create summary svg
		// var summary = d3.select("#summary").append("svg").attr({			
		// 	"width": 275,
		// 	"height": 400
		// });

		</script>

	</body>
</html>
